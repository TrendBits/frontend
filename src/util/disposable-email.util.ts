// Set of disposable email domains for O(1) lookup performance
const disposableEmailDomains = new Set([
  'tempmail.com',
  'mailinator.com', 
  'guerrillamail.com',
  '10minutemail.com',
  'temp-mail.org',
  'throwaway.email',
  'maildrop.cc',
  'yopmail.com',
  'tempail.com',
  'dispostable.com',
  'fakeinbox.com',
  'mohmal.com',
  'sharklasers.com',
  'guerrillamailblock.com',
  'pokemail.net',
  'spam4.me',
  'tempinbox.com',
  'tmpeml.com',
  'tempmailo.com',
  'temp-mail.io',
  
  // Popular temporary email services
  '0-mail.com',
  '0clickemail.com',
  '0wnd.net',
  '0wnd.org',
  '10mail.org',
  '10minutemail.co.za',
  '10minutemail.com',
  '123-m.com',
  '1chuan.com',
  '1pad.de',
  '20minutemail.com',
  '2prong.com',
  '30minutemail.com',
  '3d-painting.com',
  '4warding.com',
  '4warding.net',
  '4warding.org',
  '60minutemail.com',
  '675hosting.com',
  '675hosting.net',
  '675hosting.org',
  '6url.com',
  '75hosting.com',
  '75hosting.net',
  '75hosting.org',
  '7tags.com',
  '9ox.net',
  'a-bc.net',
  'afrobacon.com',
  'ajaxapp.net',
  'ama-trade.de',
  'amilegit.com',
  'amiri.net',
  'amiriindustrial.com',
  'anonbox.net',
  'anonymbox.com',
  'antichef.com',
  'antichef.net',
  'antireg.ru',
  'antispam.de',
  'antispammail.de',
  'armyspy.com',
  'artman-conception.com',
  'azmeil.tk',
  'baxomale.ht.cx',
  'beefmilk.com',
  'bigstring.com',
  'binkmail.com',
  'bio-muesli.net',
  'bobmail.info',
  'bodhi.lawlita.com',
  'bofthew.com',
  'bootybay.de',
  'boun.cr',
  'bouncr.com',
  'breakthru.com',
  'brefmail.com',
  'brennendesreich.de',
  'broadbandninja.com',
  'bsnow.net',
  'bspamfree.org',
  'bugmenot.com',
  'bumpymail.com',
  'burnthespam.info',
  'burstmail.info',
  'buyusedlibrarybooks.org',
  'byom.de',
  'c2.hu',
  'card.zp.ua',
  'casualdx.com',
  'cek.pm',
  'centermail.com',
  'centermail.net',
  'chammy.info',
  'childsavetrust.org',
  'chogmail.com',
  'choicemail1.com',
  'clixser.com',
  'cmail.net',
  'cmail.org',
  'coldemail.info',
  'cool.fr.nf',
  'correo.blogos.net',
  'cosmorph.com',
  'courriel.fr.nf',
  'courrieltemporaire.com',
  'crapmail.org',
  'cust.in',
  'cuvox.de',
  'dacoolest.com',
  'dandikmail.com',
  'dayrep.com',
  'dcemail.com',
  'deadaddress.com',
  'deadspam.com',
  'delikkt.de',
  'despam.it',
  'despammed.com',
  'devnullmail.com',
  'dfgh.net',
  'digitalsanctuary.com',
  'dingbone.com',
  'disposableaddress.com',
  'disposableemailaddresses.com',
  'disposableinbox.com',
  'dispose.it',
  'dispostable.com',
  'dm.w3internet.com',
  'dodgeit.com',
  'dodgit.com',
  'dodgit.org',
  'donemail.ru',
  'dontreg.com',
  'dontsendmespam.de',
  'drdrb.net',
  'dump-email.info',
  'dumpandjunk.com',
  'dumpmail.de',
  'dumpyemail.com',
  'e-mail.com',
  'e-mail.org',
  'e4ward.com',
  'easytrashmail.com',
  'einrot.com',
  'einrot.de',
  'eintagsmail.de',
  'email60.com',
  'emaildienst.de',
  'emailgo.de',
  'emailias.com',
  'emailinfive.com',
  'emailmiser.com',
  'emailsensei.com',
  'emailtemporanea.com',
  'emailtemporanea.net',
  'emailtemporar.ro',
  'emailtemporario.com.br',
  'emailthe.net',
  'emailtmp.com',
  'emailto.de',
  'emailwarden.com',
  'emailx.at.hm',
  'emailxfer.com',
  'emeil.in',
  'emeil.ir',
  'emz.net',
  'enterto.com',
  'ephemail.net',
  'etranquil.com',
  'etranquil.net',
  'etranquil.org',
  'evopo.com',
  'explodemail.com',
  'express.net.ua',
  'eyepaste.com',
  'fakeinformation.com',
  'fakemailz.com',
  'fakemail.fr',
  'fansworldwide.de',
  'fantasymail.de',
  'fastacura.com',
  'fastchevy.com',
  'fastchrysler.com',
  'fastkawasaki.com',
  'fastmazda.com',
  'fastmitsubishi.com',
  'fastnissan.com',
  'fastsubaru.com',
  'fastsuzuki.com',
  'fasttoyota.com',
  'fastyamaha.com',
  'fatflap.com',
  'fdfdsfds.com',
  'fightallspam.com',
  'filzmail.com',
  'fivemail.de',
  'fleckens.hu',
  'flyspam.com',
  'footard.com',
  'forgetmail.com',
  'fr33mail.info',
  'frapmail.com',
  'freemails.cf',
  'freemails.ga',
  'freemails.ml',
  'freundin.ru',
  'friendlymail.co.uk',
  'front14.org',
  'fuckingduh.com',
  'fudgerub.com',
  'fux0ringduh.com',
  'garliclife.com',
  'get-mail.cf',
  'get-mail.ga',
  'get-mail.ml',
  'get-mail.tk',
  'get1mail.com',
  'get2mail.fr',
  'getairmail.com',
  'getmails.eu',
  'getonemail.com',
  'getonemail.net',
  'ghosttexter.de',
  'giantmail.de',
  'girlsundertheinfluence.com',
  'gishpuppy.com',
  'gmial.com',
  'goemailgo.com',
  'gotmail.com',
  'gotmail.net',
  'gotmail.org',
  'gotti.otherinbox.com',
  'great-host.in',
  'greensloth.com',
  'grr.la',
  'gsrv.co.uk',
  'guerillamail.biz',
  'guerillamail.com',
  'guerillamail.de',
  'guerillamail.info',
  'guerillamail.net',
  'guerillamail.org',
  'guerrillamail.biz',
  'guerrillamail.com',
  'guerrillamail.de',
  'guerrillamail.info',
  'guerrillamail.net',
  'guerrillamail.org',
  'guerrillamailblock.com',
  
  // Common fake/test domains
  'example.com',
  'example.org',
  'example.net',
  'test.com',
  'test.org',
  'test.net',
  'mail.com',
  'email.com',
  'fake.com',
  'fake.org',
  'fake.net',
  'dummy.com',
  'dummy.org',
  'dummy.net',
  'sample.com',
  'sample.org',
  'sample.net',
  'temp.com',
  'temp.org',
  'temp.net',
  'temporary.com',
  'temporary.org',
  'temporary.net',
  'throwaway.com',
  'throwaway.org',
  'throwaway.net',
  'junk.com',
  'junk.org',
  'junk.net',
  'spam.com',
  'spam.org',
  'spam.net',
  'trash.com',
  'trash.org',
  'trash.net',
  'delete.com',
  'delete.org',
  'delete.net',
  'remove.com',
  'remove.org',
  'remove.net',
  'invalid.com',
  'invalid.org',
  'invalid.net',
  'null.com',
  'null.org',
  'null.net',
  'void.com',
  'void.org',
  'void.net',
  'nowhere.com',
  'nowhere.org',
  'nowhere.net',
  'blackhole.com',
  'blackhole.org',
  'blackhole.net',
  'devnull.com',
  'devnull.org',
  'devnull.net',
  'localhost.com',
  'localhost.org',
  'localhost.net',
  '127.0.0.1',
  'noreply.com',
  'noreply.org',
  'noreply.net',
  'donotreply.com',
  'donotreply.org',
  'donotreply.net',
  'no-reply.com',
  'no-reply.org',
  'no-reply.net'
]);

// Ultra-fast disposable email checker using Set for O(1) lookup
export const isDisposableEmail = (email:string) => {
  if (!email || typeof email !== 'string') {
    return false;
  }
  
  // Find @ symbol position (faster than split)
  const atIndex = email.lastIndexOf('@');
  if (atIndex === -1 || atIndex === email.length - 1) {
    return false;
  }
  
  // Extract domain and convert to lowercase
  const domain = email.slice(atIndex + 1).toLowerCase();
  
  // O(1) Set lookup
  return disposableEmailDomains.has(domain);
};